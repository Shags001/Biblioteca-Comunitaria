<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Usuarios - Biblioteca Comunitaria</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Merriweather:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lucide-static@0.263.1/font/lucide.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar-custom">
        <div class="navbar-content">
            <div class="logo-navbar">
                <h1 class="logo-text-navbar">üìö Biblioteca</h1>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Inicio</a>
                <a href="usuarios.html" class="nav-link active">Usuarios</a>
                <a href="#" class="nav-link">Libros</a>
                <a href="#" class="nav-link">Pr√©stamos</a>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <div class="content-header">
            <h1 class="page-title">Gesti√≥n de Usuarios</h1>
            <button class="btn-primary-custom" onclick="openAddUserModal()">
                + Agregar Usuario
            </button>
    </div>

    <div class="table-container">
            <table class="table-custom">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Correo</th>
                        <th>Rol</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="usersTableBody">
                    <tr>
                        <td>001</td>
                        <td>Juan P√©rez</td>
                        <td>juan@correo.com</td>
                        <td>Administrador</td>
                        <td><span class="badge-active">Activo</span></td>
                        <td>
                            <button class="btn-icon btn-edit" onclick="editUser(1)" title="Editar">
                                ‚úèÔ∏è
                            </button>
                            <button class="btn-icon btn-deactivate" onclick="toggleUserStatus(1)" title="Desactivar">
                                üîí
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>002</td>
                        <td>Mar√≠a Garc√≠a</td>
                        <td>maria@correo.com</td>
                        <td>Bibliotecario</td>
                        <td><span class="badge-active">Activo</span></td>
                        <td>
                            <button class="btn-icon btn-edit" onclick="editUser(2)" title="Editar">
                                ‚úèÔ∏è
                            </button>
                            <button class="btn-icon btn-deactivate" onclick="toggleUserStatus(2)" title="Desactivar">
                                üîí
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>003</td>
                        <td>Carlos L√≥pez</td>
                        <td>carlos@correo.com</td>
                        <td>Usuario</td>
                        <td><span class="badge-inactive">Inactivo</span></td>
                        <td>
                            <button class="btn-icon btn-edit" onclick="editUser(3)" title="Editar">
                                ‚úèÔ∏è
                            </button>
                            <button class="btn-icon btn-activate" onclick="toggleUserStatus(3)" title="Activar">
                                üîì
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal-overlay d-none" id="userModal">
        <div class="modal-custom">
            <div class="modal-header-custom">
                <h2 class="modal-title" id="modalTitle">Agregar Usuario</h2>
                <button class="btn-close-modal" onclick="closeUserModal()">‚úï</button>
            </div>
            <div class="modal-body-custom">
                <form id="userForm">
                    <div class="mb-3">
                        <label for="userName" class="form-label">Nombre completo</label>
                        <input type="text" class="form-control" id="userName" placeholder="Juan P√©rez" required>
                    </div>

                    <div class="mb-3">
                        <label for="userEmail" class="form-label">Correo electr√≥nico</label>
                        <input type="email" class="form-control" id="userEmail" placeholder="ejemplo@correo.com" required>
                    </div>

                    <div class="mb-3">
                        <label for="userRole" class="form-label">Rol</label>
                        <select class="form-control" id="userRole" required>
                            <option value="">Selecciona un rol</option>
                            <option value="admin">Administrador</option>
                            <option value="bibliotecario">Bibliotecario</option>
                            <option value="usuario">Usuario</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="userPassword" class="form-label">Contrase√±a</label>
                        <input type="password" class="form-control" id="userPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>

                    <div class="modal-footer-custom">
                        <button type="button" class="btn-secondary-custom" onclick="closeUserModal()">
                            Cancelar
                        </button>
                        <button type="submit" class="btn-primary-custom">
                            Guardar Usuario
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function openAddUserModal() {
            document.getElementById('modalTitle').textContent = 'Agregar Usuario';
            document.getElementById('userModal').classList.remove('d-none');
            document.getElementById('userForm').reset();
        }

        function closeUserModal() {
            document.getElementById('userModal').classList.add('d-none');
        }

        function editUser(userId) {
            document.getElementById('modalTitle').textContent = 'Editar Usuario';
            document.getElementById('userModal').classList.remove('d-none');
            console.log('Editando usuario:', userId);
        }

        function toggleUserStatus(userId) {
            const confirmMsg = document.getElementById('warningMessage');
            confirmMsg.classList.remove('d-none');
            
            setTimeout(() => {
                confirmMsg.classList.add('d-none');
            }, 3000);
            
            console.log('Cambiando estado del usuario:', userId);
        }

        document.getElementById('userForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const successMsg = document.getElementById('successMessage');
            successMsg.classList.remove('d-none');
            
            setTimeout(() => {
                successMsg.classList.add('d-none');
                closeUserModal();
            }, 2000);
            
            console.log('Usuario guardado');
        });

        document.getElementById('userModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeUserModal();
            }
        });
    </script>
</body>
</html>